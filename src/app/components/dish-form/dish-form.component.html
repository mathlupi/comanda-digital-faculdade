<div class="container mx-auto p-4">
  <h2 class="text-2xl font-bold mb-4 text-maroon-700">
    {{ isEditMode ? "Editar Prato" : "Adicionar Novo Prato" }}
  </h2>
  <div *ngIf="errorMessage" class="text-red-500 mb-4">{{ errorMessage }}</div>
  <div *ngIf="successMessage" class="text-green-500 mb-4">
    {{ successMessage }}
  </div>
  <form>
    <div class="mb-4">
      <label class="block text-gray-700">Nome do Prato</label>
      <input
        type="text"
        [(ngModel)]="dish.name"
        name="name"
        class="border p-2 w-full rounded"
        required
      />
    </div>
    <div class="mb-4">
      <label class="block text-gray-700">Descrição</label>
      <textarea
        [(ngModel)]="dish.description"
        name="description"
        class="border p-2 w-full rounded"
      ></textarea>
    </div>
    <div class="mb-4">
      <label class="block text-gray-700">Preço</label>
      <input
        type="number"
        [(ngModel)]="dish.price"
        name="price"
        class="border p-2 w-full rounded"
        min="0"
        step="0.01"
        required
      />
    </div>
    <div class="mb-4">
      <label class="block text-gray-700">Categoria</label>
      <select
        [(ngModel)]="dish.category"
        name="category"
        class="border p-2 w-full rounded"
      >
        <option value="Pratos">Pratos</option>
        <option value="Bebidas">Bebidas</option>
        <option value="Sobremesas">Sobremesas</option>
      </select>
    </div>
    <div class="mb-4">
      <label class="block text-gray-700">Ingredientes</label>
      <div class="flex">
        <input
          type="text"
          [(ngModel)]="ingredientInput"
          name="ingredientInput"
          class="border p-2 flex-1 rounded"
          placeholder="Digite um ingrediente"
        />
        <button type="button" (click)="addIngredient()" class="btn-maroon ml-2">
          Adicionar
        </button>
      </div>
      <ul class="mt-2">
        <li
          *ngFor="let ingredient of ingredientsList; let i = index"
          class="flex items-center"
        >
          {{ ingredient }}
          <button
            type="button"
            (click)="removeIngredient(i)"
            class="text-red-500 ml-2"
          >
            Remover
          </button>
        </li>
      </ul>
    </div>
    <div class="mb-4">
      <label class="block text-gray-700">Imagem</label>
      <input
        type="file"
        (change)="onFileChange($event)"
        accept="image/*"
        class="border p-2 w-full rounded"
      />
    </div>
    <button type="button" (click)="saveDish()" class="btn-maroon">
      {{ isEditMode ? "Atualizar Prato" : "Salvar Prato" }}
    </button>
  </form>
</div>
